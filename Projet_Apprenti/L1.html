<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Atelier de l'Apprenti - L1</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=IM+Fell+English&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'IM Fell English', serif;
            background-color: #000;
            overflow: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Cinzel Decorative', cursive;
        }

        #bg-video {
            position: fixed; top: 50%; left: 50%;
            min-width: 100%; min-height: 100%;
            transform: translateX(-50%) translateY(-50%);
            object-fit: cover; z-index: 10;
        }

        #apothecary-container {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100vh; z-index: 20;
        }
        
        #welcome-container {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; z-index: 30;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none;
            transition: opacity 1s ease-in-out;
            transform: scale(0.9);
        }
        
        #welcome-container.visible {
            opacity: 1; pointer-events: auto; transform: scale(1);
            transition: opacity 1s ease-in-out, transform 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .buttons-wrapper {
            opacity: 0; pointer-events: none;
            transition: opacity 1.5s ease-in-out;
        }
        .buttons-wrapper.visible {
             opacity: 1; pointer-events: auto;
        }
        
        .interactive-btn {
            position: absolute; width: 80px; height: 80px; border-radius: 50%;
            background-color: rgba(255, 223, 186, 0.2);
            border: 2px solid rgba(255, 223, 186, 0.4);
            cursor: pointer; transition: all 0.3s ease;
            animation: pulse-glow 3s infinite ease-in-out;
        }

        .interactive-btn:hover {
            background-color: rgba(255, 223, 186, 0.4); transform: scale(1.1);
        }

        @keyframes pulse-glow {
            0% { box-shadow: 0 0 10px 0px rgba(255, 223, 186, 0.3); }
            50% { box-shadow: 0 0 25px 10px rgba(255, 223, 186, 0.5); }
            100% { box-shadow: 0 0 10px 0px rgba(255, 223, 186, 0.3); }
        }

        #parchment-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px);
            z-index: 50; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.5s ease;
        }

        #parchment-modal.visible { opacity: 1; pointer-events: auto; }

        .parchment-content {
            background-color: #FDF3D9; color: #4A2E1A; padding: 40px 50px;
            border-radius: 5px; max-width: 600px; width: 90%;
            border: 15px solid #D2B48C;
            border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Cpath d='M0 0 H60 V60 H0 Z' fill='%23D2B48C'/%3E%3Cpath d='M5 5 H55 V55 H5 Z' fill='%23FDF3D9'/%3E%3C/svg%3E") 15 round;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative;
            max-height: 80vh; overflow-y: auto;
        }
        .parchment-content a { color: #8c5a2b; text-decoration: underline; }

        .close-btn {
            position: absolute; top: -15px; right: -15px; background: #4A2E1A; color: #FDF3D9;
            width: 40px; height: 40px; border-radius: 50%; border: 3px solid #FDF3D9;
            font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;
        }

        #book-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 60; display: flex; align-items: center; justify-content: center;
            background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px);
            opacity: 0; pointer-events: none; transition: opacity 0.5s ease-in-out;
        }
        #book-container.visible { opacity: 1; pointer-events: auto; }

        #book {
            width: 90vw; height: 70vh; max-width: 1200px; max-height: 800px;
            background: #3a291c;
            background-image: linear-gradient(45deg, rgba(0,0,0,0.1) 25%, transparent 25%, transparent 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1) 75%, transparent 75%, transparent), 
                              linear-gradient(-45deg, rgba(0,0,0,0.1) 25%, transparent 25%, transparent 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1) 75%, transparent 75%, transparent);
            background-size: 40px 40px;
            border: 10px solid #2b1e15; 
            border-radius: 8px; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.7), inset 0 0 25px rgba(0,0,0,0.6);
            display: flex;
            position: relative;
            padding: 20px;
            transform: scale(0.8); 
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            perspective: 2500px;
        }
        #book-container.visible #book { transform: scale(1); }

        #book::before {
            content: ''; position: absolute; left: 50%; top: 20px; bottom: 20px;
            width: 60px; transform: translateX(-50%);
            background-image: linear-gradient(to right, rgba(0,0,0,0.6) 0%, rgba(255,255,255,0.1) 50%, rgba(0,0,0,0.6) 100%);
            border-radius: 4px; box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .book-page {
            width: 50%; height: 100%;
            background: #fdf5e5;
            background-image: linear-gradient(90deg, rgba(220, 210, 190, 0.3) 0%, rgba(255, 255, 255, 0) 15%),
                              linear-gradient(to bottom, rgba(0,0,0,0.03) 0%, transparent 5%, transparent 95%, rgba(0,0,0,0.03) 100%);
            padding: 2.5rem 3rem;
            overflow-y: auto; 
            color: #5c4b3a;
        }
        
        #left-page { 
            border-radius: 6px 0 0 6px;
            box-shadow: inset -8px 0 15px -8px rgba(0,0,0,0.5);
        }
        #right-page {
            border-radius: 0 6px 6px 0;
            box-shadow: inset 8px 0 15px -8px rgba(0,0,0,0.5);
        }
        
        #book-nav {
            position: absolute; bottom: 20px; left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 100px);
            display: flex; justify-content: space-between;
            pointer-events: none;
        }
        .book-nav-btn {
            background-color: transparent;
            color: #4A2E1A; border: none; padding: 10px 20px;
            cursor: pointer; font-size: 3rem;
            transition: transform 0.2s ease;
            font-family: serif; pointer-events: auto;
            text-shadow: 0 0 5px rgba(253, 245, 229, 0.7);
        }
        .book-nav-btn:hover:not(:disabled) { transform: scale(1.2); }
        .book-nav-btn:disabled { opacity: 0.2; cursor: not-allowed; }

        #close-book-btn {
            position: absolute; top: -10px; right: -10px; background: #4A2E1A; color: #FDF3D9;
            width: 40px; height: 40px; border-radius: 50%; border: 3px solid #FDF3D9;
            font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 70;
        }

        .page-content-wrapper { transition: opacity 0.3s ease-in-out; }
        .page-content-wrapper.flipping { opacity: 0; }
        
        .book-page::-webkit-scrollbar,
        .parchment-content::-webkit-scrollbar { width: 12px; }
        .book-page::-webkit-scrollbar-track,
        .parchment-content::-webkit-scrollbar-track { background: #e4d8c5; border-radius: 10px; }
        .book-page::-webkit-scrollbar-thumb,
        .parchment-content::-webkit-scrollbar-thumb {
            background-color: #5c4b3a; border-radius: 10px;
            border: 3px solid #e4d8c5;
        }

    </style>
</head>
<body>

    <video id="bg-video" muted playsinline autoplay>
        <source src="videos/video1.mp4" type="video/mp4">
        Ton navigateur ne supporte pas la balise vidéo.
    </video>

    <div id="apothecary-container">
        <!-- Boutons Desktop (4 boutons) -->
        <div id="desktop-buttons-wrapper" class="buttons-wrapper hidden md:block">
            <div data-action="open-grimoire" class="interactive-btn" style="top: 72%; left: 48%;"></div>
            <div data-action="open-parchment" class="interactive-btn" style="top: 70%; left: 33%;" data-title="Les Manuscrits d'Exercices" data-content-id="exercices-content"></div>
            <div data-action="open-parchment" class="interactive-btn" style="top: 40%; left: 75%;" data-title="Le Codex des Remèdes" data-content-id="codex-content"></div>
            <div data-action="open-parchment" class="interactive-btn" style="top: 55%; left: 25%;" data-title="Travaux de Guilde" data-content-id="travaux-content"></div>
        </div>
        <!-- Boutons Mobile (4 boutons) -->
        <div id="mobile-buttons-wrapper" class="buttons-wrapper md:hidden absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black via-black/80 to-transparent">
            <div class="grid grid-cols-2 gap-4">
                 <button data-action="open-grimoire" class="bg-stone-800/60 border border-amber-500/50 rounded-lg p-2 text-center text-white flex flex-col items-center justify-center h-24">
                    <span class="text-3xl">📜</span><span class="block text-xs mt-1" style="font-family: 'Cinzel Decorative', cursive;">Grimoire</span>
                 </button>
                 <button data-action="open-parchment" class="bg-stone-800/60 border border-amber-500/50 rounded-lg p-2 text-center text-white flex flex-col items-center justify-center h-24" data-title="Les Manuscrits d'Exercices" data-content-id="exercices-content">
                    <span class="text-3xl">✒️</span><span class="block text-xs mt-1" style="font-family: 'Cinzel Decorative', cursive;">Exercices</span>
                 </button>
                 <button data-action="open-parchment" class="bg-stone-800/60 border border-amber-500/50 rounded-lg p-2 text-center text-white flex flex-col items-center justify-center h-24" data-title="Le Codex des Remèdes" data-content-id="codex-content">
                    <span class="text-3xl">🧪</span><span class="block text-xs mt-1" style="font-family: 'Cinzel Decorative', cursive;">Remèdes</span>
                 </button>
                 <button data-action="open-parchment" class="bg-stone-800/60 border border-amber-500/50 rounded-lg p-2 text-center text-white flex flex-col items-center justify-center h-24" data-title="Travaux de Guilde" data-content-id="travaux-content">
                    <span class="text-3xl">🤝</span><span class="block text-xs mt-1" style="font-family: 'Cinzel Decorative', cursive;">Travaux</span>
                 </button>
            </div>
        </div>
    </div>
    
    <div id="welcome-container">
        <div class="parchment-content text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-amber-900 mb-4">Bienvenue, jeune apprenti Paladin!</h1>
            <p class="text-lg md:text-xl text-stone-700 max-w-2xl">Les portes du royaume sanitaire s'ouvrent à toi.</p>
            <button id="enter-btn" class="mt-8 bg-amber-800/20 border border-amber-800 text-amber-900 font-bold py-3 px-8 rounded-lg hover:bg-amber-800/40" style="font-family: 'Cinzel Decorative', cursive;">Entrer</button>
        </div>
    </div>

    <div id="parchment-modal">
        <div class="parchment-content">
            <button class="close-btn">&times;</button>
            <h2 id="parchment-title" class="text-3xl mb-4"></h2>
            <div id="parchment-text-content"></div>
        </div>
    </div>
    
    <div id="book-container">
         <button id="close-book-btn">&times;</button>
        <div id="book">
            <div id="left-page" class="book-page"><div class="page-content-wrapper"></div></div>
            <div id="right-page" class="book-page"><div class="page-content-wrapper"></div></div>
            <div id="book-nav">
                <button id="prev-page-btn" class="book-nav-btn">‹</button>
                <button id="next-page-btn" class="book-nav-btn">›</button>
            </div>
        </div>
    </div>

    <!-- Contenus cachés pour les parchemins -->
    <div id="codex-content" class="hidden">
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">I - L'Art de l'Organisation</h4>
        <p class="mb-4">Pour maîtriser l'art des remèdes, ton codex doit être un modèle d'ordre. Une potion mal identifiée peut avoir des conséquences désastreuses. Voici une structure éprouvée, inspirée des grands maîtres apothicaires (basée sur le style NCLEX), pour créer tes fiches de remèdes :</p>
        <ul class="list-disc list-inside space-y-2 mb-4">
            <li><b>DCI / Noms Commerciaux :</b> L'identité véritable et les surnoms du remède.</li>
            <li><b>Classe Pharmaceutique :</b> Sa famille magique.</li>
            <li><b>Voies d’administration :</b> Comment il est délivré (potion, onguent, etc.).</li>
            <li><b>Niveau d’alerte :</b> Son potentiel de dangerosité.</li>
            <li><b>Usages Thérapeutiques :</b> Les maux qu'il est censé guérir.</li>
            <li><b>Mécanisme d’action :</b> Comment il opère sa magie sur le corps.</li>
            <li><b>Indications :</b> Quand l'utiliser.</li>
            <li><b>Contre-Indications :</b> Quand ne JAMAIS l'utiliser.</li>
            <li><b>Effets Indésirables et Surveillance :</b> Les signes à surveiller après administration.</li>
            <li><b>Fun fact et astuce de collègue :</b> Le petit savoir des anciens qui fait la différence.</li>
        </ul>
        <p class="mb-4">Pour une classification efficace, suis la méthode ancestrale : commence par le <b>Système Corporel</b> (ex: <i>Flux et Cœur</i> pour le cardiovasculaire), puis la <b>Famille de Maux</b> (ex: <i>Contre la Pression Ardente</i> pour les antihypertenseurs), et enfin la <b>Famille de Remèdes</b> (ex: <i>Potions Aqueuses</i> pour les diurétiques).</p>
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">II - Le Coffre-fort du Vétéran</h4>
        <p>Un vétéran a partagé son mini-codex personnel. Étudie-le avec soin, il est accessible dans ce <a href="https://www.googledrive.com" target="_blank">coffre-fort éthéré (Google Drive)</a>.</p>
    </div>

    <div id="exercices-content" class="hidden">
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">I - La Règle de Trois des Apothicaires</h4>
        <p class="mb-4">La plupart des énigmes de dosage se résolvent par une ancienne magie : le produit en croix. Le principe est simple : si tu connais trois valeurs, tu peux trouver la quatrième. Tu poses le calcul ainsi : "Si j'ai CETTE quantité de remède dans CE volume de liquide, alors pour la quantité de remède que JE VEUX, de quel volume ai-je besoin ?"</p>
        
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">II - Énigmes d'Application</h4>
        <p class="mb-2"><b>Énigme 1 : L'Élixir Anti-Miasmes</b></p>
        <p class="mb-4 p-3 bg-stone-800/10 rounded-md border border-stone-800/20">
            Tu dois administrer 750mg d'Élixir Anti-Miasmes (Amoxicilline Acide Clavulanique) par injection directe dans les veines de Dame T. Tu disposes de fioles d'Élixir de 1g/200mg, d'une seringue d'apothicaire de 20mL, et d'ampoules d'eau purifiée (sérum physiologique) de 10mL et 20mL.
            <br><i>Comment procèdes-tu ?</i>
        </p>
        <p class="mb-2"><b>Correction de l'Énigme 1</b></p>
        <p class="mb-4 p-3 bg-stone-800/10 rounded-md border border-stone-800/20">
            1. Prélève 20mL d'eau purifiée. Dilue la fiole de 1g d'Élixir avec ces 20mL. Tu obtiens donc 1000mg dans 20mL.
            <br>
            2. Règle de Trois : Si 1000mg sont dans 20mL, alors 750mg sont dans X mL.
            <br>
            <i>X = (750 × 20) / 1000 = 15mL</i>
            <br>
            <b>Il faudra donc injecter 15mL de la solution reconstituée.</b>
        </p>

        <p class="mb-2"><b>Énigme 2 : L'Infusion de Potion Poly-ionique</b></p>
        <p class="mb-4 p-3 bg-stone-800/10 rounded-md border border-stone-800/20">
            Le maître-soignant prescrit une infusion de Potion Poly-ionique G5% de 2 Litres sur 24h.
            <br><i>Quel sera le débit en mL/heure ? Et en gouttes/minute ?</i>
        </p>
        <p class="mb-2"><b>Correction de l'Énigme 2</b></p>
        <p class="mb-4 p-3 bg-stone-800/10 rounded-md border border-stone-800/20">
            1. Débit en mL/heure : 2L = 2000mL.
            <br>
            <i>2000mL / 24h = 83,33 mL/h.</i> (On peut arrondir à 83 ou 84 mL/h).
            <br><br>
            2. Débit en gouttes/minute : (Sachant que 1ml ≈ 20 gouttes et 1h = 60 minutes)
            <br>
            <i>83,33 mL/h × 20 gouttes = 1666,66 gouttes/heure.</i>
            <br>
            <i>1666,66 gouttes / 60 minutes = 27,77 gouttes/minute.</i>
            <br>
            <b>Tu dois régler l'infusion à environ 28 gouttes par minute.</b>
        </p>
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">III - Le Simulateur de Dosage</h4>
        <p>Pour parfaire ton art, entraîne-toi sur les simulateurs de la guilde des soignants. Tu les trouveras ici : <a href="https://entraide-esi-ide.com/calculs-de-doses/" target="_blank">S'exercer au calcul de dose</a>.</p>
    </div>
    
    <div id="travaux-content" class="hidden">
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">I - La Forge Collaborative</h4>
        <p class="mb-4">Le savoir se partage et se construit à plusieurs. Pour les travaux de guilde (travaux de groupe), ton allié le plus puissant est le parchemin partagé. Utilise les <a href="https://docs.google.com/" target="_blank">scriptoriums de Google (Google Docs)</a> pour que chaque apprenti puisse ajouter sa pierre à l'édifice en temps réel.</p>
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">II - L'Art de l'Enluminure Numérique</h4>
        <p class="mb-4">Pour présenter tes recherches sous forme d'affiches ou de documents visuels, la guilde des artisans de <a href="https://www.canva.com/" target="_blank">Canva</a> met à ta disposition des outils simples et puissants. Nul besoin d'être un maître enlumineur pour créer des œuvres claires et esthétiques.</p>
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">III - La Source du Savoir</h4>
        <p class="mb-4">Toute affirmation doit être appuyée par une source fiable. Lorsque tu trouves une information capitale dans un codex reconnu (sites en .org, .edu, .gouv, ou revues scientifiques), copie immédiatement son sceau (le lien URL) dans ton parchemin partagé. Cela t'évitera des heures de recherche pour retrouver tes sources.</p>
        <h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">IV - Le Grimoire des Sources</h4>
        <p>Pour ne jamais perdre la trace de tes lectures, utilise <a href="https://www.zotero.org/" target="_blank">Zotero</a>. C'est un puissant grimoire numérique (un logiciel de gestion de références) qui t'aide à collecter, organiser et citer tes sources automatiquement. Un gain de temps inestimable pour tout apprenti sérieux.</p>
    </div>

    <script>
        window.addEventListener('load', () => {
            const backgroundVideo = document.getElementById('bg-video');
            const welcomeContainer = document.getElementById('welcome-container');
            const enterButton = document.getElementById('enter-btn');
            const allButtonsWrappers = document.querySelectorAll('.buttons-wrapper');
            
            let welcomeShown = false;
            backgroundVideo.addEventListener('timeupdate', () => {
                if (backgroundVideo.currentTime > 3.5 && !welcomeShown) {
                    welcomeContainer.classList.add('visible');
                    welcomeShown = true;
                }
            });

            enterButton.addEventListener('click', () => {
                welcomeContainer.style.opacity = '0';
                setTimeout(() => welcomeContainer.style.display = 'none', 1000);
                allButtonsWrappers.forEach(wrapper => wrapper.classList.add('visible'));
            });

            const modalTriggers = document.querySelectorAll('[data-action]');
            
            modalTriggers.forEach(trigger => {
                trigger.addEventListener('click', () => {
                    const action = trigger.getAttribute('data-action');
                    if (action === 'open-grimoire') {
                        openGrimoire();
                    } else if (action === 'open-parchment') {
                        const title = trigger.getAttribute('data-title');
                        let content = '';
                        if (trigger.dataset.contentId) {
                            content = document.getElementById(trigger.dataset.contentId).innerHTML;
                        } else {
                            content = trigger.getAttribute('data-content');
                        }
                        openParchmentModal(title, content);
                    }
                });
            });

            const parchmentModal = document.getElementById('parchment-modal');
            const parchmentContent = parchmentModal.querySelector('#parchment-text-content');
            function openParchmentModal(title, content) {
                parchmentModal.querySelector('#parchment-title').textContent = title;
                parchmentContent.innerHTML = content;
                parchmentModal.classList.add('visible');
            }
            parchmentModal.querySelector('.close-btn').addEventListener('click', () => parchmentModal.classList.remove('visible'));
            parchmentModal.addEventListener('click', (e) => { if(e.target === parchmentModal) parchmentModal.classList.remove('visible'); });

            const bookContainer = document.getElementById('book-container');
            const closeBookBtn = document.getElementById('close-book-btn');
            const nextPageBtn = document.getElementById('next-page-btn');
            const prevPageBtn = document.getElementById('prev-page-btn');
            const leftPage = document.querySelector('#left-page .page-content-wrapper');
            const rightPage = document.querySelector('#right-page .page-content-wrapper');

            const bookPages = [
                {
                    left: `<div class="text-center flex flex-col items-center justify-center h-full"><h2 class="text-5xl">Le Grimoire</h2><p class="mt-4">Savoirs de Première Année</p></div>`,
                    right: `<p class="mt-4">Ce mini-grimoire ancestral, écrit par un apprenti Paladin presque au bout de son apprentissage, renferme des conseils qui pourraient t'aider pour ta première année d'apprentissage. Que ta quête soit fructueuse.</p>`
                },
                {
                    left: `<h3 class="text-2xl mb-4 border-b border-stone-400 pb-2">La Réserve de l'Apprenti</h3><h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">I - Forger ton rituel d'étude</h4><p>Un bon apprenti est un apprenti organisé. Prends de bonnes habitudes dès tes premiers jours : ordonne tes parchemins de notes et découvre ton affinité avec le savoir.</p>`,
                    right: `<p class="mb-2 mt-10">Certains apprennent par la vue, d'autres par l'ouïe, d'autres encore par le geste (le toucher). Une fois ta voie trouvée, forge ton rituel.</p><ul class="list-disc list-inside mb-4"><li><b>Les Glyphes de Mémorisation (Flashcards) :</b> Grave le savoir sur de petites cartes pour ne jamais l'oublier. Des guildes (sites web) proposent des outils pour t'y aider : <a href="https://quizlet.com/" target="_blank">Quizlet</a>, <a href="https://ankiapp.com/" target="_blank">Anki</a>.</li><li><b>L'Art du Scribe :</b> La manière de transcrire le savoir est cruciale. Consulte les méthodes des grands scribes pour parfaire ton art : <a href="https://www.youtube.com/watch?v=52hZ4oPDb-E" target="_blank">La Méthode Cornell</a>.</li></ul>`
                },
                {
                    left: `<h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">II - Les Sources du Savoir</h4><p class="mb-4">Méfie-toi des grimoires jaunis et des savoirs obsolètes, beaucoup d'apprentis Paladins tombent dans cette embûche en début de cursus. Pas la peine de faire du farming de livres de fiche de cours toutes faîtes car chaque professeur a sa façon de procéder, tu ne trouveras point de fiche qui correspond à 100% à tes cours au Sanctum des Paladins. Néanmoins, si tu veux t'aider, privilégie les sources vives et entretenues par les guildes modernes (sites web actuels). La guilde <a href="https://www.reussistonifsi.fr/" target="_blank">"Réussis ton IFSI"</a> est une source fiable. Mais la  connaissance, la plus pure, est celle que tu distilles toi-même en créant tes propres fiches. </p>`,
                    right: `<h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">III - Préparer tes Missions</h4><p>Lors de tes missions sur le terrain (stages), ton équipement est vital. N'oublie jamais :</p><ul class="list-disc list-inside"><li>Une plume quadricolore (stylo), un carnet de poche, une cisaille de soignant (ciseaux style "Gesco").</li><li>Le plus important : présente-toi à tous les membres de la guilde (l'équipe), encore et toujours. Ta réputation se forge dès les premiers instants.</li><li>Enfin, forge ta propre opinion. N'écoute pas les rumeurs de taverne sur les maîtres de stage ; vis ta propre aventure.</li></ul>`
                },
                {
                    left: `<h4 class="text-xl mb-3" style="font-family: 'IM Fell English', serif;">IV - L'Art du Diagnostic</h4><p class="mb-4">Un Paladin ne guérit pas au hasard. Tes jugements (diagnostics infirmiers) ne doivent pas sortir de ton imagination. Ils sont le fruit d'une analyse rigoureuse et s'appuient sur un savoir ancestral, codifié par des guildes d'experts.</p><p>Ces diagnostics officiels te donnent un langage commun et une structure pour identifier précisément les maux de tes patients.</p>`,
                    right: `<p class="mt-10 mb-4">La guilde la plus reconnue en ce domaine est la <a href="https://diagnosticsinfirmiers.com/" target="_blank">NANDA International</a>. Leur grimoire (leur site web) est une référence absolue que tu dois consulter pour formuler tes diagnostics avec justesse et précision.</p><p>Maîtriser ce codex te permettra d'élaborer des plans de soins (plans de guérison) cohérents et efficaces.</p>`
                }
            ];
            let currentPageIndex = 0;

            function updateBookPages(direction = 'none') {
                 const contentToFlip = [leftPage, rightPage];
                 contentToFlip.forEach(c => c.classList.add('flipping'));
                
                 setTimeout(() => {
                    const pageData = bookPages[currentPageIndex];
                    leftPage.innerHTML = pageData.left;
                    rightPage.innerHTML = pageData.right;
                    
                    prevPageBtn.disabled = (currentPageIndex === 0);
                    nextPageBtn.disabled = (currentPageIndex >= bookPages.length - 1);
                    
                    contentToFlip.forEach(c => c.classList.remove('flipping'));
                }, 300);
            }

            function openGrimoire() {
                currentPageIndex = 0;
                updateBookPages();
                bookContainer.classList.add('visible');
                allButtonsWrappers.forEach(w => w.classList.remove('visible'));
            }

            function closeGrimoire() {
                bookContainer.classList.remove('visible');
                allButtonsWrappers.forEach(w => w.classList.add('visible'));
            }

            nextPageBtn.addEventListener('click', () => {
                if (currentPageIndex < bookPages.length - 1) {
                    currentPageIndex++;
                    updateBookPages('next');
                }
            });

            prevPageBtn.addEventListener('click', () => {
                if (currentPageIndex > 0) {
                    currentPageIndex--;
                    updateBookPages('prev');
                }
            });

            closeBookBtn.addEventListener('click', closeGrimoire);
        });
    </script>

</body>
</html>

